{"version":3,"file":"_server.ts-af868f6b.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/getSession/_server.ts.js"],"sourcesContent":["import { g as getSession } from \"../../../../chunks/session.js\";\nimport { j as json } from \"../../../../chunks/index.js\";\nasync function GET({ cookies }) {\n  try {\n    let user = void 0;\n    let viewMode = \"admin\";\n    let session = cookies.get(\"sessionid\");\n    if (session !== void 0) {\n      let record = await getSession(session);\n      if (record == void 0) {\n        cookies.delete(\"sessionid\", { path: \"/\" });\n      } else {\n        user = record.user;\n        viewMode = record.viewMode;\n      }\n    }\n    return json({\n      status: \"success\",\n      user,\n      viewMode,\n      photoURL: cookies.get(\"photo_url\")\n    });\n  } catch (error) {\n    return json({ status: \"error\", error });\n  }\n}\nexport {\n  GET\n};\n"],"names":[],"mappings":";;;;;;AAEA,eAAe,GAAG,CAAC,EAAE,OAAO,EAAE,EAAE;AAChC,EAAE,IAAI;AACN,IAAI,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC;AACtB,IAAI,IAAI,QAAQ,GAAG,OAAO,CAAC;AAC3B,IAAI,IAAI,OAAO,GAAG,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;AAC3C,IAAI,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE;AAC5B,MAAM,IAAI,MAAM,GAAG,MAAM,UAAU,CAAC,OAAO,CAAC,CAAC;AAC7C,MAAM,IAAI,MAAM,IAAI,KAAK,CAAC,EAAE;AAC5B,QAAQ,OAAO,CAAC,MAAM,CAAC,WAAW,EAAE,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,CAAC;AACnD,OAAO,MAAM;AACb,QAAQ,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;AAC3B,QAAQ,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;AACnC,OAAO;AACP,KAAK;AACL,IAAI,OAAO,IAAI,CAAC;AAChB,MAAM,MAAM,EAAE,SAAS;AACvB,MAAM,IAAI;AACV,MAAM,QAAQ;AACd,MAAM,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC;AACxC,KAAK,CAAC,CAAC;AACP,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,IAAI,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;AAC5C,GAAG;AACH;;;;"}