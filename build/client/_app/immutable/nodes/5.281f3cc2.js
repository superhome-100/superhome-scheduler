import{S as w,i as B,s as C,k as O,a as L,q as E,l as p,m as I,c as T,r as g,h as a,n as v,b as k,F as N,D as y,o as D,O as G,a6 as M,Q as P}from"../chunks/index.8e4fed50.js";import{a as Q,g as W,b as A,l as R,i as K}from"../chunks/firebase.81e41ff6.js";function Y(h){let l,u,n,o,b,r,t,s,_,d;return{c(){l=O("p"),u=E("Please login with Facebook first to link your Google account"),n=L(),o=O("p"),b=E("Click link google account at the sidebar after logging in"),r=L(),t=O("button"),s=E("Login with Facebook"),this.h()},l(i){l=p(i,"P",{class:!0});var f=I(l);u=g(f,"Please login with Facebook first to link your Google account"),f.forEach(a),n=T(i),o=p(i,"P",{class:!0});var c=I(o);b=g(c,"Click link google account at the sidebar after logging in"),c.forEach(a),r=T(i),t=p(i,"BUTTON",{});var e=I(t);s=g(e,"Login with Facebook"),e.forEach(a),this.h()},h(){v(l,"class","dark:text-white"),v(o,"class","dark:text-white")},m(i,f){k(i,l,f),N(l,u),k(i,n,f),k(i,o,f),N(o,b),k(i,r,f),k(i,t,f),N(t,s),_||(d=G(t,"click",h[10]),_=!0)},p:y,d(i){i&&a(l),i&&a(n),i&&a(o),i&&a(r),i&&a(t),_=!1,d()}}}function q(h){let l,u,n,o,b,r,t,s,_,d,i,f,c;return{c(){l=O("p"),u=E("Did you link your google account on us already?"),n=L(),o=O("img"),r=L(),t=O("button"),s=E("Yes"),_=L(),d=O("button"),i=E("No"),this.h()},l(e){l=p(e,"P",{class:!0});var m=I(l);u=g(m,"Did you link your google account on us already?"),m.forEach(a),n=T(e),o=p(e,"IMG",{src:!0,alt:!0}),r=T(e),t=p(e,"BUTTON",{});var F=I(t);s=g(F,"Yes"),F.forEach(a),_=T(e),d=p(e,"BUTTON",{});var U=I(d);i=g(U,"No"),U.forEach(a),this.h()},h(){v(l,"class","dark:text-white"),M(o.src,b="/guide-link.webp")||v(o,"src",b),v(o,"alt","guide")},m(e,m){k(e,l,m),N(l,u),k(e,n,m),k(e,o,m),k(e,r,m),k(e,t,m),N(t,s),k(e,_,m),k(e,d,m),N(d,i),f||(c=[G(t,"click",h[8]),G(d,"click",h[9])],f=!0)},p:y,d(e){e&&a(l),e&&a(n),e&&a(o),e&&a(r),e&&a(t),e&&a(_),e&&a(d),f=!1,P(c)}}}function H(h){let l,u,n,o,b,r,t,s,_,d;return{c(){l=O("p"),u=E("Do you have an existing superhome account via facebook?"),n=L(),o=O("button"),b=E("Yes"),r=L(),t=O("button"),s=E("No"),this.h()},l(i){l=p(i,"P",{class:!0});var f=I(l);u=g(f,"Do you have an existing superhome account via facebook?"),f.forEach(a),n=T(i),o=p(i,"BUTTON",{});var c=I(o);b=g(c,"Yes"),c.forEach(a),r=T(i),t=p(i,"BUTTON",{});var e=I(t);s=g(e,"No"),e.forEach(a),this.h()},h(){v(l,"class","dark:text-white")},m(i,f){k(i,l,f),N(l,u),k(i,n,f),k(i,o,f),N(o,b),k(i,r,f),k(i,t,f),N(t,s),_||(d=[G(o,"click",h[6]),G(t,"click",h[7])],_=!0)},p:y,d(i){i&&a(l),i&&a(n),i&&a(o),i&&a(r),i&&a(t),_=!1,P(d)}}}function V(h){let l,u,n,o,b,r,t,s,_,d,i,f;return{c(){l=O("h3"),u=E("Login with"),n=L(),o=O("button"),b=E("Google"),t=L(),s=O("button"),_=E("Facebook"),this.h()},l(c){l=p(c,"H3",{class:!0});var e=I(l);u=g(e,"Login with"),e.forEach(a),n=T(c),o=p(c,"BUTTON",{});var m=I(o);b=g(m,"Google"),m.forEach(a),t=T(c),s=p(c,"BUTTON",{});var F=I(s);_=g(F,"Facebook"),F.forEach(a),this.h()},h(){v(l,"class","dark:text-white"),o.disabled=r=["loading","in"].includes(h[0]),s.disabled=d=["loading","in"].includes(h[0])},m(c,e){k(c,l,e),N(l,u),k(c,n,e),k(c,o,e),N(o,b),k(c,t,e),k(c,s,e),N(s,_),i||(f=[G(o,"click",h[4]),G(s,"click",h[5])],i=!0)},p(c,e){e&1&&r!==(r=["loading","in"].includes(c[0]))&&(o.disabled=r),e&1&&d!==(d=["loading","in"].includes(c[0]))&&(s.disabled=d)},d(c){c&&a(l),c&&a(n),c&&a(o),c&&a(t),c&&a(s),i=!1,P(f)}}}function j(h){let l,u,n,o;function b(s,_){if(s[1]===s[2].LOGIN_OPTION)return V;if(s[1]===s[2].NEW_OLD_USER_CONFIRMATION)return H;if(s[1]===s[2].CONFIRM_LINK_GOOGLE)return q;if(s[1]===s[2].REQUIRE_FB_LOGIN_FIRST)return Y}let r=b(h),t=r&&r(h);return{c(){l=O("div"),t&&t.c(),u=L(),n=O("a"),o=E("Privacy Policy"),this.h()},l(s){l=p(s,"DIV",{class:!0});var _=I(l);t&&t.l(_),u=T(_),n=p(_,"A",{class:!0,target:!0,href:!0,rel:!0});var d=I(n);o=g(d,"Privacy Policy"),d.forEach(a),_.forEach(a),this.h()},h(){v(n,"class","dark:text-white underline"),v(n,"target","_blank"),v(n,"href","https://app.freedivesuperhome.com/privacy"),v(n,"rel","noreferrer"),v(l,"class","flex flex-col text-black w-48 gap-2")},m(s,_){k(s,l,_),t&&t.m(l,null),N(l,u),N(l,n),N(n,o)},p(s,[_]){r===(r=b(s))&&t?t.p(s,_):(t&&t.d(1),t=r&&r(s),t&&(t.c(),t.m(l,u)))},i:y,o:y,d(s){s&&a(l),t&&t.d()}}}function z(h,l,u){let n="loading";var o=(e=>(e[e.LOGIN_OPTION=0]="LOGIN_OPTION",e[e.NEW_OLD_USER_CONFIRMATION=1]="NEW_OLD_USER_CONFIRMATION",e[e.CONFIRM_LINK_GOOGLE=2]="CONFIRM_LINK_GOOGLE",e[e.REQUIRE_FB_LOGIN_FIRST=3]="REQUIRE_FB_LOGIN_FIRST",e))(o||{});let b=0;const r=async e=>{u(0,n="loading"),e==="facebook"?await A():await R()};return D(()=>Q.onIdTokenChanged(async e=>{e?(u(0,n="in"),W("/")):u(0,n="out")})),[n,b,o,r,async()=>{K()?await R():u(1,b=1)},()=>r("facebook"),()=>{u(1,b=o.CONFIRM_LINK_GOOGLE)},()=>r("google"),()=>{window.localStorage.setItem("is_google_linked","true"),R()},()=>{u(1,b=o.REQUIRE_FB_LOGIN_FIRST)},()=>r("facebook")]}class Z extends w{constructor(l){super(),B(this,l,z,j,C,{})}}export{Z as component};
